<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="shortcut icon" href="https://favicon.yandex.net/favicon/v2/https://store.steampowered.com?size=32" type="image/x-icon">
	<link rel="icon" href="https://favicon.yandex.net/favicon/v2/https://store.steampowered.com?size=32" type="image/x-icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>DLC入库代码获取</title>
	<script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool" data-url="http://localhost:3000"></script>
		<style>
			.{
				font-family:inherit;
			}
			#fba{
				text-align:center;
				border-collapse: separate;
				display:none;
				background-color:#142432;
			}
			#fba tr td{
				height: 25px;
			}
			input::-webkit-outer-spin-button,
			input::-webkit-inner-spin-button{
				-webkit-appearance: none !important;
				margin: 0;
			}
			input{
				border-radius:6px;
				border:1px solid #ddd;
				background-color:#fafbfc;
				width: 100%;
				height: 30px;
				margin:6px -5px;
				font-weight: 600;
				font-size: 15px;
				padding:3px 8px;
			}
			table, tr{
				width: 100%;
			}
			table tr td:first-child{
				width: 15%;
				padding:0px 5px;
			}
			table tr td:nth-child(2){
				font-size: 15px;
				width: 120px;
				text-align:center;
			}
			button{
				width: 150px;
				border:1px solid #ddd;
				margin: 15px auto;
				padding: 4px auto;
				text-align: center;
				display: flex;
				height: 35px;
				flex-wrap: nowrap;
				align-items: stretch;
				flex-direction: column-reverse;
				justify-content: center;
				border-radius:7px;
				background-color: #fafbfc;
				font-weight: 700;
				font-size: 15px;
				color:#24292e;
			}
			#all{
				width:400px;
				margin:20px auto 5px;
			}
			#all2{
				width:800px;
				margin:5px auto;
			}
			body{
				background-color:#161920;
				color:#fff;
				font-weight: 600;
				font-size: 18px;
			}
			#small,#small td{
				height:5px !important;
			}
			img {
				width: 150px;
				height: auto;
			}
			.img{
				width:20% !important;
			}
			div>a {
				padding: 7px 10px;  
				margin:0px 8px;
				font-size: 15px; 
				text-decoration:none;
				background-color: #fafbfc;
                		border-radius: 7px;
                		color: #24292e;
			}
			#fora{
				margin: 0px auto 15px;
				display: flex;
				justify-content: center;
			}
			.copy{
				color:#0095ff;
			}
		</style>
	</head>
	<body>
		<div id="all">
			<div><input type="text" name="order" id="order" placeholder="卡密  可无卡密查询系统是否存在DLC数据"></div>
			<div><input type="text" id="gamename" placeholder="游戏名称  尽量全称  英文名优先  游戏ID最准  请看使用说明"></div>
		<button class="querybutton" id="queryDLC" onclick="queryDLC()">查询DLC入库代码</button>
		<div id="fora">
			<a id="a1" href="https://support.qq.com/products/505746/faqs/157631">使用说明</a>
			<a id="a5" href="https://support.qq.com/products/505746/faqs/155142">卡密教程</a>
			<a id="a2" href="https://afdian.com/item/481a68fa5b9811ef869252540025c377">获取卡密</a>
			<a id="a3" href="https://support.qq.com/products/505746/faqs/155141">入库问题</a>
		</div>
		<div id="fora">
			<a id="a4" href="https://qm.qq.com/cgi-bin/qm/qr?k=PFkA0XVb0eW5SFf9-YSg5-EMzFSREpWs&jump_from=webapi&authKey=vZ58sfGNbJ0U3sBD+Zm8ypWGIqrLDcsRynglpWm3i4CVyWhYetmBNSZ6cP594u9K">一键加入QQ群 - 855740463</a>
		</div>
		</div>
		<div id="all2">
		<table id="fba">
			<tr id="small"><td colspan="3"><hr></td></tr>
			<tr><td>游戏名称①</td><td id="name1"></td><td rowspan="3" class="img"><img src="" id="img1"></td>
			<tr><td>入库代码①</td><td id="code1"></td>
			<tr><td>适用平台①</td><td id="system1"></td>
			<tr id="small"><td colspan="3"><hr></td></tr>
			<tr><td>游戏名称②</td><td id="name2"></td><td rowspan="3" class="img"><img src="" id="img2"></td>
			<tr><td>入库代码②</td><td id="code2"></td>
			<tr><td>适用平台②</td><td id="system2"></td>
			<tr id="small"><td colspan="3"><hr></td></tr>
			<tr><td>游戏名称③</td><td id="name3"></td><td rowspan="3" class="img"><img src="" id="img3"></td>
			<tr><td>入库代码③</td><td id="code3"></td>
			<tr><td>适用平台③</td><td id="system3"></td>
			<tr id="small"><td colspan="3"><hr></td></tr>
			<tr><td>查询信息</td><td id="message"></td><td rowspan="2" class="img"><img src="https://img0.baidu.com/it/u=4004314959,386122217&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=320"></td></tr>
			<tr><td>剩余次数<br>过期时间</td><td id="count"></td></tr>
		<table>
		</div>
		<script>
			var myorder = localStorage.getItem('myorder');
			if (myorder) {
				document.getElementById('order').value = myorder;
			}
			var gamename = localStorage.getItem('gamename');
			if (gamename) {
				document.getElementById('gamename').value = gamename;
			}
		</script>
		<script> 
			function queryDLC(){
				var sign="";
				var order = document.getElementById('order').value;
				var gamename = document.getElementById('gamename').value;
				var gamenamesign= true;
				if(!gamename){
					sign=sign + "\n游戏名不能为空";
					gamenamesign=false;
				}
				if(!gamenamesign){
					alert(sign);
					return;
				}
				var myorder = document.getElementById('order').value;
				localStorage.setItem('myorder', myorder);
				var gamename = document.getElementById('gamename').value;
				localStorage.setItem('gamename', gamename);
				document.getElementById('queryDLC').innerText = "查询";
				if(order==""){var dataValue = gamename;}
				if(order!=""){var dataValue = gamename+"&&&"+order;}
				copyToClipboard(dataValue);
			}
		</script>
		<script>
			function copyToClipboard(text) {
				const textarea = document.createElement('textarea');
				textarea.value = text;
				textarea.style.position = 'fixed';
				textarea.style.left = '0';
				textarea.style.top = '0';
				document.body.appendChild(textarea);
				textarea.select();
				try {
					const result = document.execCommand('copy');
					if (result) {
						showAutoCloseAlert('查询命令已成功！\n去QQ找机器人查询吧！', 2000);
					} else {
						showAutoCloseAlert('查询命令复制失败！\n格式如下\n\n游戏名&&&订单号\n游戏名', 3000);
					}
				} catch (error) {
					showAutoCloseAlert('查询命令复制失败！\n格式如下\n\n游戏名&&&订单号\n游戏名', 3000);
				}
				textarea.remove();
			}
			var currentAlert = null;
			function showAutoCloseAlert(message, duration) {
				if (currentAlert) {
				        document.body.removeChild(currentAlert);
					currentAlert = null;
				}
				var alertDiv = document.createElement('div');
				alertDiv.style.position = 'fixed';
				alertDiv.style.top = '80%';
				alertDiv.style.left = '50%';
				alertDiv.style.transform = 'translate(-50%, -50%)';
				alertDiv.style.padding = '10px';
				alertDiv.style.backgroundColor = '#f44336'; // 红色背景
				alertDiv.style.color = 'white';
				alertDiv.style.zIndex = '1000';
				alertDiv.style.fontSize = '1.2em';
				alertDiv.style.borderRadius = '5px';
				alertDiv.innerText = message;
				document.body.appendChild(alertDiv);
				currentAlert = alertDiv;
				setTimeout(function() {
					document.body.removeChild(alertDiv);
					currentAlert = null;
				}, duration);
			}
			window.onload = function() {showAutoCloseAlert('网站被攻击, 查询功能被迫转到QQ\n现网站仅用于快速生成查询命令！\n加入QQ群找机器人查询吧！\n\n使用方法看群相册！', 5000);}
		</script>
		<script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool" data-url="http://localhost:3000"></script>
	</body>
</html>
